---
import type { ProjectMetadata } from "../../lib/utils";
import CopyIcon from "../icons/CopyIcon.astro";
import GithubIcon from "../icons/GithubIcon.astro";
import NpmIcon from "../icons/NpmIcon.astro";
import SearchIcon from "../icons/SearchIcon.astro";

interface Props {
  project: ProjectMetadata;
}
const { project } = Astro.props;
const scroll = 200;
const data = project.data;
---

<div class="fixed bottom-4 left-0 flex w-full justify-center">
  {
    scroll > 300 && (
      <div
        style={{
          backgroundColor: data.color ?? "#808080",
        }}
      >
        <div class="flex w-fit max-w-4xl items-center justify-between gap-8 rounded-2xl p-3 shadow-lg ">
          <h2 class="pl-2 font-semibold text-2xl text-black">{data.title}</h2>

          <ul class="flex items-center gap-2">
            {/* copy url button */}
            <li>
              <button
                type="button"
                class=" flex aspect-square rounded-lg p-2 text-secondary-900 transition-all hover:bg-secondary-900/60"
                title="Copy project link"
              >
                <CopyIcon />
              </button>
            </li>
            {data.npmLink ? (
              <a
                href={data.npmLink}
                href-lang="en-us"
                title="Link to the NPM repository"
                target="_blank"
                rel="noopener noreferrer"
              >
                <li class=" flex aspect-square rounded-lg p-2 text-secondary-900 transition-all hover:bg-secondary-900/60">
                  <NpmIcon />
                </li>
              </a>
            ) : null}

            {data.githubLink ? (
              <a
                href={data.githubLink}
                href-lang="en-us"
                title="Link to the Github repository"
                target="_blank"
                rel="noopener noreferrer"
              >
                <li class="flex aspect-square rounded-lg p-2 text-secondary-900 transition-all hover:bg-secondary-900/60">
                  <GithubIcon />
                </li>
              </a>
            ) : null}

            {data.link ? (
              <a
                href={data.link}
                href-lang="en-us"
                title="Link to the project"
                target="_blank"
                rel="noopener noreferrer"
              >
                {" "}
                <li
                  class="flex aspect-square rounded-lg bg-secondary-900/90 p-2 transition-all hover:bg-secondary-900"
                  style={{
                    color: data.color ?? "#808080",
                  }}
                >
                  <SearchIcon />
                </li>
              </a>
            ) : null}
          </ul>
        </div>
      </div>
    )
  }
</div>
